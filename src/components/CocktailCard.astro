---
// src/components/CocktailCard.astro
export interface Props {
  imgSrc: string;
  imgAlt: string;
  title: string;
  url: string;
  description?: string;
  difficulty?: 'Easy' | 'Medium' | 'Advanced';
  servingSize?: string;
  featured?: boolean;
}

const { 
  imgSrc, 
  imgAlt, 
  title, 
  url, 
  description, 
  difficulty, 
  servingSize,
  featured = false 
} = Astro.props;
---

<article class={`cocktail-card ${featured ? 'featured' : ''}`}>
  <a href={url} class="card-link" aria-label={`View recipe for ${title}`}>
    <div class="card-image-wrapper">
      <picture>
        <source 
          media="(max-width: 768px)" 
          srcset={imgSrc.replace('.jpg', '-mobile.jpg')}
        >
        <img 
          src={imgSrc} 
          alt={imgAlt} 
          class="card-image"
          loading="lazy"
          width="400"
          height="300"
        />
      </picture>
      {featured && (
        <span class="featured-badge">Featured</span>
      )}
      {difficulty && (
        <span class={`difficulty-badge ${difficulty.toLowerCase()}`}>
          {difficulty}
        </span>
      )}
      <div class="image-overlay">
        <span class="view-recipe">View Recipe</span>
      </div>
    </div>
    
    <div class="card-content">
      <h3 class="card-title">{title}</h3>
      {description && (
        <p class="card-description">{description}</p>
      )}
      {servingSize && (
        <div class="card-meta">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"/>
          </svg>
          <span>{servingSize}</span>
        </div>
      )}
    </div>
  </a>
</article>
