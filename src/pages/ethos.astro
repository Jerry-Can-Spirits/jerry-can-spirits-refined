---
// src/pages/ethos.astro
import MainLayout from '../layouts/MainLayout.astro';

const ethosPoints = [
  {
    title: "Precision in Practice",
    description: "In the Royal Signals, our mission was clear communicationâ€”swift and sure, every time. We apply that same dedication to precision in our distillery. Partnering with experts and using the finest British ingredients, we pursue perfection in every drop. No compromises.",
    image: "images/ethos/copper-still.jpg",
    alt: "A copper distillery still used for crafting spirits"
  },
  {
    title: "Rooted in Service",
    description: "Our service to the nation has given us a profound appreciation for the British landscape. We honour that connection by sourcing our ingredients locally, supporting the producers and communities that make our craft possible and capturing an authentic taste of home.",
    image: "images/ethos/countryside.jpg",
    alt: "A dramatic view of the rolling British countryside",
    reverse: true
  },
  {
    title: "Engineered for Adventure",
    description: "Our spirit of adventure wasn't a choice; it was part of the job. Our careers took us to the world's most demanding environments, honing our resilience and resourcefulness. We bottle that same spirit of perseverance, creating the essential provision for your next expedition.",
    image: "images/ethos/adventurous-spirit.jpg",
    alt: "A person looking out over a misty mountain range with a map"
  },
  {
    title: "More Than a Company, It's a Signals Network",
    description: "In a signals unit, you're only as strong as the person next to you. That belief in camaraderie is at our core. We're building a network of insiders who value connection and shared experience. This is our journey, and we're proud to have you with us.",
    image: "images/ethos/more-than-a-company.jpg",
    alt: "A group of friends gathered around a campfire at dusk",
    reverse: true
  }
];
---

<MainLayout 
  title="Our Ethos" 
  description="The core principles that define our craft and our crew at Jerry Can Spirits"
>
  <div class="ethos-page">
    <header class="page-hero">
      <div class="hero-content">
        <span class="page-label">Our Principles</span>
        <h1 class="page-title">The Jerry Can Ethos</h1>
        <p class="page-description">
          More than just a spirit; a standard. These are the principles that guide every decision we make, 
          from sourcing our ingredients to serving our crew.
        </p>
      </div>
      <div class="hero-decoration" aria-hidden="true"></div>
    </header>

    <main class="ethos-content">
      {ethosPoints.map((point, index) => (
        <section class={`ethos-section ${point.reverse ? 'reverse' : ''}`} data-aos="fade-up">
          <div class="ethos-image">
            <picture>
              <source 
                media="(max-width: 768px)" 
                srcset={point.image.replace('.jpg', '-mobile.jpg')}
              />
              <img 
                src={point.image} 
                alt={point.alt}
                loading="lazy"
                width="600"
                height="400"
              />
            </picture>
            <div class="image-frame" aria-hidden="true"></div>
          </div>
          
          <div class="ethos-text">
            <span class="section-number">0{index + 1}</span>
            <h2 class="section-title">{point.title}</h2>
            <p class="section-description">{point.description}</p>
          </div>
        </section>
      ))}
    </main>

    <section class="ethos-cta">
      <div class="cta-content">
        <h2>Ready to Join the Expedition?</h2>
        <p>Be part of something bigger. Join our crew of adventurers and spirits enthusiasts.</p>
        <div class="cta-buttons">
          <a href="/products" class="btn btn-primary">Explore Products</a>
          <a href="#signup" class="btn btn-secondary">Become an Insider</a>
        </div>
      </div>
    </section>
  </div>
</MainLayout>

<style>
  .ethos-page {
    overflow: hidden;
  }

  /* Page Hero */
  .page-hero {
    position: relative;
    padding: var(--space-4xl) var(--page-padding);
    text-align: center;
    background: linear-gradient(135deg, var(--theme-bg-primary) 0%, var(--theme-bg-secondary) 100%);
    margin-top: var(--header-height);
  }

  @media (max-width: 768px) {
    .page-hero {
      margin-top: var(--header-height-mobile);
      padding: var(--space-3xl) var(--page-padding);
    }
  }

  .hero-content {
    position: relative;
    z-index: 2;
    max-width: 800px;
    margin: 0 auto;
  }

  .page-label {
    display: inline-block;
    font-family: var(--font-family-heading);
    font-size: var(--font-size-sm);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--theme-accent);
    margin-bottom: var(--space-sm);
    opacity: 0.8;
  }

  .page-title {
    font-family: var(--font-family-heading);
    font-size: clamp(2.5rem, 6vw, 3.5rem);
    text-transform: uppercase;
    color: var(--theme-text-primary);
    margin: 0 0 var(--space-lg) 0;
    line-height: 1.1;
  }

  .page-description {
    font-size: clamp(1.1rem, 2vw, 1.25rem);
    color: var(--theme-text-secondary);
    line-height: var(--line-height-relaxed);
    max-width: 700px;
    margin: 0 auto;
  }

  .hero-decoration {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 200%;
    height: 100%;
    background: radial-gradient(ellipse at center, var(--theme-accent) 0%, transparent 70%);
    opacity: 0.05;
    pointer-events: none;
  }

  /* Ethos Content */
  .ethos-content {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: var(--space-4xl) var(--page-padding);
  }

  .ethos-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: clamp(2rem, 5vw, 4rem);
    align-items: center;
    margin-bottom: clamp(4rem, 8vw, 6rem);
    position: relative;
  }

  .ethos-section.reverse {
    direction: rtl;
  }

  .ethos-section.reverse > * {
    direction: ltr;
  }

  /* Image styling */
  .ethos-image {
    position: relative;
    overflow: hidden;
    border-radius: var(--radius-md);
  }

  .ethos-image img {
    width: 100%;
    height: auto;
    display: block;
    transition: transform var(--transition-slow);
  }

  .ethos-section:hover .ethos-image img {
    transform: scale(1.05);
  }

  .image-frame {
    position: absolute;
    top: -20px;
    left: -20px;
    right: 20px;
    bottom: 20px;
    border: 2px solid var(--theme-accent);
    border-radius: var(--radius-md);
    opacity: 0.2;
    z-index: -1;
    transition: all var(--transition-base);
  }

  .ethos-section:hover .image-frame {
    top: -10px;
    left: -10px;
    right: 10px;
    bottom: 10px;
    opacity: 0.3;
  }

  /* Text styling */
  .ethos-text {
    position: relative;
  }

  .section-number {
    display: inline-block;
    font-family: var(--font-family-heading);
    font-size: clamp(3rem, 5vw, 4rem);
    color: var(--theme-accent);
    opacity: 0.1;
    font-weight: var(--font-weight-bold);
    line-height: 1;
    margin-bottom: calc(var(--space-md) * -1);
  }

  .section-title {
    font-family: var(--font-family-heading);
    font-size: clamp(2rem, 4vw, 2.5rem);
    text-transform: uppercase;
    margin-bottom: var(--space-lg);
    color: var(--theme-text-primary);
    position: relative;
    display: inline-block;
  }

  .section-title::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 0;
    width: 60px;
    height: 3px;
    background-color: var(--theme-accent);
  }

  .section-description {
    font-size: clamp(1rem, 2vw, 1.125rem);
    line-height: var(--line-height-relaxed);
    color: var(--theme-text-secondary);
  }

  /* CTA Section */
  .ethos-cta {
    background: linear-gradient(135deg, var(--color-green-800) 0%, var(--color-green-900) 100%);
    padding: var(--space-4xl) var(--page-padding);
    text-align: center;
    margin-top: var(--space-4xl);
  }

  .cta-content {
    max-width: 600px;
    margin: 0 auto;
  }

  .cta-content h2 {
    font-family: var(--font-family-heading);
    font-size: clamp(2rem, 4vw, 2.5rem);
    color: var(--color-parchment);
    margin-bottom: var(--space-md);
  }

  .cta-content p {
    font-size: var(--font-size-lg);
    color: var(--color-parchment);
    opacity: 0.9;
    margin-bottom: var(--space-xl);
  }

  .cta-buttons {
    display: flex;
    gap: var(--space-md);
    justify-content: center;
    flex-wrap: wrap;
  }

  .btn {
    display: inline-block;
    padding: var(--space-md) var(--space-xl);
    font-family: var(--font-family-heading);
    font-size: var(--font-size-base);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    text-decoration: none;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    font-weight: var(--font-weight-bold);
  }

  .btn-primary {
    background-color: var(--color-green-500);
    color: white;
  }

  .btn-primary:hover {
    background-color: var(--color-green-400);
    transform: translateY(-2px);
  }

  .btn-secondary {
    background-color: transparent;
    color: var(--color-parchment);
    border: 2px solid var(--color-parchment);
  }

  .btn-secondary:hover {
    background-color: var(--color-parchment);
    color: var(--color-green-800);
  }

  /* Tablet styles */
  @media (max-width: 900px) {
    .ethos-section {
      grid-template-columns: 1fr;
      gap: var(--space-2xl);
    }

    .ethos-section.reverse {
      direction: ltr;
    }

    .ethos-image {
      max-width: 600px;
      margin: 0 auto;
    }

    .section-number {
      font-size: 2.5rem;
    }
  }

  /* Mobile styles */
  @media (max-width: 768px) {
    .ethos-content {
      padding: var(--space-3xl) var(--space-md);
    }

    .ethos-section {
      margin-bottom: var(--space-3xl);
    }

    .section-title {
      font-size: 1.75rem;
    }

    .section-description {
      font-size: 1rem;
    }

    .ethos-cta {
      padding: var(--space-3xl) var(--space-md);
    }

    .cta-buttons {
      flex-direction: column;
    }

    .btn {
      width: 100%;
      text-align: center;
    }
  }

  /* Small mobile */
  @media (max-width: 480px) {
    .page-hero {
      padding: var(--space-2xl) var(--space-sm);
    }

    .ethos-content {
      padding: var(--space-2xl) var(--space-sm);
    }
  }

  /* Animations */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .ethos-section {
    animation: fadeInUp 0.8s ease-out;
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .ethos-section,
    .ethos-image img,
    .image-frame,
    .btn {
      animation: none;
      transition: none;
    }
  }
</style>

<script>
  // Add intersection observer for scroll animations
  document.addEventListener('DOMContentLoaded', () => {
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);

    const sections = document.querySelectorAll('.ethos-section');
    sections.forEach(section => {
      observer.observe(section);
    });
  });
</script>